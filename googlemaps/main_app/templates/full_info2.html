{% extends "base.html" %}
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
	<link href="../../../../global_assets/css/icons/icomoon/styles.min.css" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/all.min.css' %}" rel="stylesheet" type="text/css">
	<link href="{% static 'assets/css/styles.css' %}" rel="stylesheet" type="text/css">
	<!-- Font Awesome CDN (версия 6.x) -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
	<!-- Bootstrap 5 (CDN) -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>






</head>
<body>
{% block content_area %}


<div class="content-my">
<div class="row">
    <div class="col-sm-6 col-xl-3">
  <div class="card card-body bg-success text-white" style="min-height: 150px;">
    <div class="d-flex align-items-center h-100">
      <div class="flex-fill">
        <h4 class="mb-0">{{place_obj.name}}</h4>
        <span class="text-white-50">Name</span>
      </div>
      <i class="bi bi-shop icon-big ms-3"></i>
    </div>
  </div>
</div>

    <div class="col-sm-6 col-xl-3">
        <div class="card card-body bg-warning text-dark">
            <div class="d-flex align-items-center">
                <div class="flex-fill">
                    <h4 class="mb-0">{{place_obj.rating}}</h4>
                    <span class="text-muted">Rating</span>
                </div>
                <i class="bi bi-star-fill icon-big ms-3"></i>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-xl-3">
        <div class="card card-body bg-primary text-white">
            <div class="d-flex align-items-center">
                <div class="flex-fill">
                    <h4 class="mb-0">{{place_obj.city}}</h4>
                    <span class="text-white-50">Located</span>
                </div>
                <i class="bi bi-geo-alt-fill icon-big ms-3"></i>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-xl-3">
        <div class="card card-body bg-danger text-white">
            <div class="d-flex align-items-center">
                <div class="flex-fill">
                    <h4 class="mb-0">{{place_obj.num_reviews}}</h4>
                    <span class="text-white-50">Reviews</span>
                </div>
                <i class="bi bi-people-fill icon-big ms-3"></i>
            </div>
        </div>
    </div>
</div>

            <div class="container min-vh-100">
    <div class="row align-items-start" >
        <div class="col-md-6">
            <div class="card">
                <div class="card-body border-top-0">
                    <h5 class="fw-semibold mb-4 text-start">Info</h5>
                    <table class="table">
        <tbody>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Category:</td>
            <td class="text-start">{{ place_obj.category|default:"-" }}</td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Address:</td>
            <td class="text-start">{{ place_obj.address|default:"-" }}</td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Place Type:</td>
            <td class="text-start">{{ place_obj.place_type|default:"-" }}</td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Phone:</td>
            <td class="text-start">{{ place_obj.phone|default:"-" }}</td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Email:</td>
            <td class="text-start">{{ place_obj.email|default:"-" }}</td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Open 24/7:</td>
            <td class="text-start">
              {% if place_obj.open_24_7 %}
                <span class="badge bg-success rounded-pill">Yes</span>
              {% elif place_obj.open_24_7 == False %}
                <span class="badge bg-danger rounded-pill">No</span>
              {% else %}
                -
              {% endif %}
            </td>
          </tr>
          <tr class="odd mb-3">
            <td class="fw-semibold text-start" style="width: 400px;">Website:</td>
            <td class="text-start">{{ place_obj.website|default:"-" }}</td>
          </tr>
        </tbody>
      </table>
                    <div class="d-flex justify-content-center bg-transparent py-3">
  <ul class="list-inline mb-0 d-flex gap-3">
    {% if place_obj.youtube %}
    <li class="list-inline-item">
        <a href="{{ place_obj.youtube }}" target="_blank">
            <div class="d-flex align-items-center justify-content-center rounded-circle border border-light" style="width: 60px; height: 60px;">
                <i class="fab fa-youtube fa-lg" style="color: #FF0000;"></i>
            </div>
        </a>
    </li>
    {% endif %}

    {% if place_obj.twitter %}
    <li class="list-inline-item">
        <a href="{{ place_obj.twitter }}" target="_blank">
            <div class="d-flex align-items-center justify-content-center rounded-circle border border-light" style="width: 60px; height: 60px;">
                <i class="fab fa-twitter fa-lg" style="color: #1DA1F2;"></i>
            </div>
        </a>
    </li>
    {% endif %}

    {% if place_obj.linkedin %}
    <li class="list-inline-item">
        <a href="{{ place_obj.linkedin }}" target="_blank">
            <div class="d-flex align-items-center justify-content-center rounded-circle border border-light" style="width: 60px; height: 60px;">
                <i class="fab fa-linkedin fa-lg" style="color: #0077B5;"></i>
            </div>
        </a>
    </li>
    {% endif %}

    {% if place_obj.instagram %}
    <li class="list-inline-item">
        <a href="{{ place_obj.instagram }}" target="_blank">
            <div class="d-flex align-items-center justify-content-center rounded-circle border border-light" style="width: 60px; height: 60px;">
                <i class="fab fa-instagram fa-lg" style="color: #C13584;"></i>
            </div>
        </a>
    </li>
    {% endif %}

    {% if place_obj.facebook %}
    <li class="list-inline-item">
        <a href="{{ place_obj.facebook }}" target="_blank">
            <div class="d-flex align-items-center justify-content-center rounded-circle border border-light" style="width: 60px; height: 60px;">
                <i class="fab fa-facebook fa-lg" style="color: #1877F2;"></i>
            </div>
        </a>
    </li>
    {% endif %}
</ul>
</div>


                </div>
            </div>
        </div>


        <!-- Карта будет в правой колонке -->
     <div class="col-md-6">
  <div class="card">
    <div class="card-body border-top-0">
      <h5 class="fw-semibold mb-4 text-start">Open Hours</h5>
      <table class="table">
        <tbody>
  {% for day, hours in open_hours.items %}
  <tr class="odd mb-3">
    <td class="fw-semibold text-start" style="width: 400px;">{{ day }}</td>
    <td class="text-start">
      {% if hours == 'Closed' %}
        <span class="badge bg-danger rounded-pill">Closed</span>
      {% else %}
        <span class="badge bg-success rounded-pill">{{hours}}</span>
      {% endif %}
    </td>
  </tr>
{% endfor %}
</tbody>
      </table>
    </div>
  </div>
</div>

    </div>
                <div class="card">
    <div class="card-body d-flex flex-column flex-lg-row">

        <!-- Первая колонка -->
        <div class="flex-fill">
            <h3 class="fw-semibold mb-4 text-start">About</h3>

            {% for item in parsed_about|slice:":3" %}
                <div class="mb-2">
                    <h5 class="text-start">{{ item.title }}:</h5>
                    <ul class="mb-0 ps-3">
                        {% for val in item.values %}
                            <li class="text-start">{{ val }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>

        <!-- Вторая колонка -->
        <div class="flex-fill mt-4 ms-lg-4"> <!-- mt-4 to push it below 'About' -->
            {% for item in parsed_about|slice:"3:6" %}
                <div class="mb-2">
                    <h5 class="text-start">{{ item.title }}:</h5>
                    <ul class="mb-0 ps-3">
                        {% for val in item.values %}
                            <li class="text-start">{{ val }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>

        <!-- Третья колонка -->
        <div class="flex-fill mt-4 ms-lg-4"> <!-- mt-4 to push it below 'About' -->
            {% for item in parsed_about|slice:"6:" %}
                <div class="mb-2">
                    <h5 class="text-start">{{ item.title }}:</h5>
                    <ul class="mb-0 ps-3">
                        {% for val in item.values %}
                            <li class="text-start">{{ val }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>

    </div>
</div>
                <div id="map" style="height: 513px;"></div>
</div>
</div>




  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-nPLbZrYkCGV1+d1Y6N19BuwPWqsK0pglVbLkG0bZp6k="
    crossorigin=""
  ></script>

 <script>
  const lat = {{ place_obj.lat|default:"0" }};
  const lng = {{ place_obj.lng|default:"0" }};
  const title = "{{ place_obj.name|default:'Unknown' }}";  <!-- Добавляем кавычки вокруг строки -->

  const map = L.map('map').setView([lat, lng], 13);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  L.marker([lat, lng]).addTo(map)
    .bindPopup(title)
    .openPopup();
</script>

</biv>
</biv>
{% endblock content_area %}

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'assets/js/app.js' %}"></script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

</body>
</html>